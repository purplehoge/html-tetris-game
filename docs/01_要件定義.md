# 要件定義書 - HTMLテトリス

## 背景・目的
- Webブラウザで動作するテトリスゲームを開発する
- HTML5 Canvas、CSS、JavaScriptのみを使用したシンプルな実装
- 単一HTMLファイルとして完結し、簡単にデプロイ可能にする

## スコープ・非スコープ

### スコープ
- 基本的なテトリスゲーム機能
- 7種類のテトロミノ（I,O,T,S,Z,J,L）
- テトロミノの回転、移動、落下
- ライン消去とスコア算出
- レベルアップによる落下速度向上
- ゲームオーバー判定
- キーボード操作（矢印キー、スペース、Enter）
- レスポンシブデザイン（PC・スマートフォン対応）

### 非スコープ
- ハイスコアランキング（永続化なし）
- 音楽・効果音
- マルチプレイヤー機能
- 複雑なエフェクト・アニメーション

## 利害関係者
- プレイヤー：ゲームを楽しむエンドユーザー
- 開発者：保守・拡張を行う技術者

## 前提・制約
- モダンブラウザ（Chrome、Firefox、Safari、Edge）での動作
- インターネット接続不要（オフライン動作）
- 外部ライブラリ・フレームワーク不使用
- 単一HTMLファイル構成

## 用語定義
- **テトロミノ**：4つのブロックで構成される図形（7種類）
- **ライン消去**：横一列がブロックで埋まった時の消去処理
- **レベル**：ゲーム難易度、数値が高いほどテトロミノ落下が高速
- **ゲームフィールド**：20行×10列のゲーム領域

## ユースケース一覧
1. ゲーム開始
2. テトロミノ操作（移動・回転）
3. ライン消去
4. スコア確認
5. レベルアップ
6. ゲームオーバー
7. ゲーム再開

## 受け入れ基準
- テトロミノが正しく落下・積み上がること
- 4方向の移動と回転が正常動作すること
- ライン消去が正しく実行されること
- スコアとレベルが適切に更新されること
- ゲームオーバー時に再開可能であること
- PC・スマートフォンで操作可能であること

## 品質要求・NFR
### 性能
- ゲーム動作：60FPS維持
- 操作レスポンス：100ms以下

### 可用性
- ブラウザクラッシュ時以外は継続動作

### セキュリティ
- XSS脆弱性なし（外部入力なし）

### 保守性
- 単一ファイル構成で理解しやすいコード
- 機能単位での関数分割

### 観測性
- ブラウザコンソールでのデバッグ情報出力

## リスクと対応
- **リスク**：ブラウザ互換性問題
  - **対応**：Canvas API、ES6機能の対応状況確認
- **リスク**：スマートフォンでの操作性
  - **対応**：タッチ操作UI、適切なサイズ調整